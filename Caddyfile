{
	# Local development - use internal CA for self-signed certs
	local_certs
}

localhost {
	# Frontend (Next.js)
	handle {
		reverse_proxy site:3000
	}

	# API routes
	handle /api/* {
		uri strip_prefix /api
		reverse_proxy backend:8080
	}

	# Also handle /v1/* for direct backend access (OAuth callbacks)
	handle /v1/* {
		reverse_proxy backend:8080
	}
}
